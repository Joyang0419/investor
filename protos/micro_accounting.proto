syntax = "proto3";

option go_package = "protos/micro_accounting";

service AccountingService {
  rpc Withdraw(WithdrawRequest) returns (WithdrawResponse);
  rpc Deposit(DepositRequest) returns (DepositResponse);
  rpc Transfer(TransferRequest) returns (TransferResponse);
}

message WithdrawRequest {
  int64 AccountID = 1;
  double Amount = 2;
}

message WithdrawResponse {
  string ID = 1;                       // 交易ID
  string Type = 2;                     // 交易類型
  double Amount = 3;                   // 交易金額
  int64 AccountID = 4;                // 交易帳戶ID
  double CurrentBalance = 6; // 當前餘額
}

message DepositRequest {
  int64 AccountID = 1;
  double Amount = 2;
}

message DepositResponse {
  string ID = 1;                       // 交易ID
  string Type = 2;                     // 交易類型
  double Amount = 3;                   // 交易金額
  int64 AccountID = 4;                // 交易帳戶ID
  double CurrentBalance = 7; // 當前餘額
}

message TransferRequest {
  int64 AccountID = 1;
  int64 TargetAccountID = 2;
  double Amount = 3;
}

message TransferResponse {
  string ID = 1;                       // 交易ID
  string Type = 2;                     // 交易類型
  double Amount = 3;                   // 交易金額
  int64 AccountID = 4;                // 交易帳戶ID
  int64 TargetAccountID = 5;          // 目標帳戶ID
  double CurrentBalance = 7; // 當前餘額
}

